<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Backend ¬∑
config/external-services-and-secrets ¬∑ Smart Supply Pro Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS lives under /templates on GitHub Pages for inventory-service repo -->
  <link rel="stylesheet" href="/inventory-service/templates/docs.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-inner">
      <a href="/inventory-service/" class="logo">üì¶ Smart Supply Pro Docs</a>
      <nav class="nav">
      <a href="/inventory-service/architecture/index.html">Backend Architecture</a>
      <a href="/inventory-service/architecture/overview-de.html">Backend Architektur Deutsch</a>
        <!-- Future: <a href="/inventory-service/frontend/architecture/overview.html">Frontend</a> -->
        <a href="/inventory-service/backend/api/index.html">Backend API</a>
        <!-- Future: <a href="/inventory-service/frontend/api/index.html">Frontend API</a> -->
        <a href="/inventory-service/backend/coverage/index.html">Backend Coverage</a>
        <!-- Future: <a href="/inventory-service/frontend/coverage/index.html">Frontend Coverage</a> -->
      </nav>
    </div>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <h2>Backend</h2>
      <ul>
        <li><a href="/inventory-service/architecture/overview.html">Architecture Overview</a></li>
        <li><a href="/inventory-service/architecture/overview-de.html">Architektur-√úberblick</a></li>
        <li><a href="/inventory-service/architecture/layers/overview.html">Layers</a></li>
        <li><a href="/inventory-service/architecture/model/index.html">Data Models</a></li>
        <li><a href="/inventory-service/architecture/enums/index.html">Enums</a></li>
        <li><a href="/inventory-service/architecture/dto/index.html">DTOs</a></li>
        <li><a href="/inventory-service/architecture/config/index.html">Config</a></li>
        <li><a href="/inventory-service/architecture/controller/index.html">Controllers</a></li>
        <li><a href="/inventory-service/architecture/security/index.html">Security</a></li>
        <li><a href="/inventory-service/architecture/deployment/index.html">Deployment</a></li>
        <li><a href="/inventory-service/architecture/exception/index.html">Exception Handling</a></li>
        <li><a href="/inventory-service/architecture/integration/index.html">Integration</a></li>
        <li><a href="/inventory-service/architecture/repository/index.html">Repository</a></li>
        <li><a href="/inventory-service/architecture/resources/index.html">Resources</a></li>
        <li><a href="/inventory-service/architecture/validation/index.html">Validation</a></li>
        <li><a href="/inventory-service/architecture/testing/index.html">Testing</a></li>
        <li><a href="/inventory-service/architecture/diagrams/index.html">Diagrams</a></li>
      </ul>

      <h2>Frontend</h2>
      <ul>
        <h3>Docs coming soon</h3>
        <!-- Future <li><a href="/inventory-service/frontend/architecture/overview.html">Architecture Overview</a></li> -->
      </ul>

      <h2>Quality</h2>
      <ul>
        <li><a href="/inventory-service/backend/api/index.html">API Reference</a></li>
        <li><a href="/inventory-service/backend/coverage/index.html">JaCoCo Coverage</a></li>
      </ul>
    </aside>

    <section class="content">
            <nav class="toc">
        <h2>On this page</h2>
        <ul>
        <li><a href="#external-services-and-secrets-management"
        id="toc-external-services-and-secrets-management">External
        Services and Secrets Management</a>
        <ul>
        <li><a href="#overview" id="toc-overview">Overview</a></li>
        <li><a href="#oauth2-configuration-google"
        id="toc-oauth2-configuration-google">OAuth2 Configuration
        (Google)</a>
        <ul>
        <li><a href="#what-is-oauth2" id="toc-what-is-oauth2">What is
        OAuth2?</a></li>
        <li><a href="#configuration"
        id="toc-configuration">Configuration</a></li>
        <li><a href="#key-properties" id="toc-key-properties">Key
        Properties</a></li>
        <li><a href="#secret-injection" id="toc-secret-injection">Secret
        Injection</a></li>
        <li><a href="#redirect-uri-requirements"
        id="toc-redirect-uri-requirements">Redirect URI
        Requirements</a></li>
        <li><a href="#setting-up-google-oauth2"
        id="toc-setting-up-google-oauth2">Setting Up Google
        OAuth2</a></li>
        </ul></li>
        <li><a href="#database-secrets"
        id="toc-database-secrets">Database Secrets</a>
        <ul>
        <li><a href="#oracle-autonomous-database-connection"
        id="toc-oracle-autonomous-database-connection">Oracle Autonomous
        Database Connection</a></li>
        <li><a href="#oracle-wallet-secrets"
        id="toc-oracle-wallet-secrets">Oracle Wallet Secrets</a></li>
        </ul></li>
        <li><a href="#frontend-url-configuration"
        id="toc-frontend-url-configuration">Frontend URL
        Configuration</a>
        <ul>
        <li><a href="#what-is-the-frontend-url"
        id="toc-what-is-the-frontend-url">What is the Frontend
        URL?</a></li>
        <li><a href="#configuration-1"
        id="toc-configuration-1">Configuration</a></li>
        <li><a href="#secret-injection-1"
        id="toc-secret-injection-1">Secret Injection</a></li>
        </ul></li>
        <li><a href="#secret-management-best-practices"
        id="toc-secret-management-best-practices">Secret Management Best
        Practices</a>
        <ul>
        <li><a href="#do" id="toc-do">‚úÖ DO</a></li>
        <li><a href="#dont" id="toc-dont">‚ùå DON‚ÄôT</a></li>
        </ul></li>
        <li><a href="#secrets-in-different-environments"
        id="toc-secrets-in-different-environments">Secrets in Different
        Environments</a>
        <ul>
        <li><a href="#local-development"
        id="toc-local-development">Local Development</a></li>
        <li><a href="#testing-cicd" id="toc-testing-cicd">Testing
        (CI/CD)</a></li>
        <li><a href="#staging" id="toc-staging">Staging</a></li>
        <li><a href="#production-1"
        id="toc-production-1">Production</a></li>
        </ul></li>
        <li><a href="#secret-rotation" id="toc-secret-rotation">Secret
        Rotation</a>
        <ul>
        <li><a href="#oauth2-secret-rotation"
        id="toc-oauth2-secret-rotation">OAuth2 Secret Rotation</a></li>
        <li><a href="#database-password-rotation"
        id="toc-database-password-rotation">Database Password
        Rotation</a></li>
        </ul></li>
        <li><a href="#troubleshooting-secrets"
        id="toc-troubleshooting-secrets">Troubleshooting Secrets</a>
        <ul>
        <li><a href="#q-unauthorized-oauth2-client"
        id="toc-q-unauthorized-oauth2-client">Q: ‚ÄúUnauthorized OAuth2
        client‚Äù</a></li>
        <li><a href="#q-cannot-create-jdbc-connection"
        id="toc-q-cannot-create-jdbc-connection">Q: ‚ÄúCannot create JDBC
        connection‚Äù</a></li>
        <li><a href="#q-no-qualifying-bean-of-type-appproperties"
        id="toc-q-no-qualifying-bean-of-type-appproperties">Q: ‚ÄúNo
        qualifying bean of type ‚ÄòAppProperties‚Äô‚Äù</a></li>
        </ul></li>
        <li><a href="#related-documentation"
        id="toc-related-documentation">Related Documentation</a></li>
        </ul></li>
        </ul>
      </nav>
      
      <article class="doc-body">
        <p><a href="./index.html">‚¨ÖÔ∏è Back to Config Overview</a></p>
        <h1 id="external-services-and-secrets-management">External
        Services and Secrets Management</h1>
        <h2 id="overview">Overview</h2>
        <p>External services require secure configuration:</p>
        <ul>
        <li><strong>Google OAuth2</strong>: Authentication provider</li>
        <li><strong>Database</strong>: Oracle Autonomous Database</li>
        <li><strong>Frontend</strong>: Cross-origin requests</li>
        </ul>
        <p>Secrets must <strong>never</strong> be hardcoded in source
        code. Instead, they‚Äôre injected via environment variables at
        runtime.</p>
        <hr />
        <h2 id="oauth2-configuration-google">OAuth2 Configuration
        (Google)</h2>
        <h3 id="what-is-oauth2">What is OAuth2?</h3>
        <p>OAuth2 is an authorization standard where:</p>
        <ol type="1">
        <li>User clicks ‚ÄúSign in with Google‚Äù</li>
        <li>Application redirects to Google‚Äôs login page</li>
        <li>User authenticates with Google</li>
        <li>Google redirects back to application with an authorization
        code</li>
        <li>Application exchanges code for access token</li>
        <li>Application fetches user profile (email, name) using
        token</li>
        <li>Application creates local session for user</li>
        </ol>
        <h3 id="configuration">Configuration</h3>
        <p><strong>File:</strong>
        <code>src/main/resources/application.yml</code></p>
        <div class="sourceCode" id="cb1"><pre
        class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spring</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">security</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">oauth2</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">client</span><span class="kw">:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">registration</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">google</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">client-id</span><span class="kw">:</span><span class="at"> ${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID}</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">client-secret</span><span class="kw">:</span><span class="at"> ${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">redirect-uri</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">scope</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="kw">-</span><span class="at"> openid</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="kw">-</span><span class="at"> profile</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="kw">-</span><span class="at"> email</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">provider</span><span class="kw">:</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">google</span><span class="kw">:</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">authorization-uri</span><span class="kw">:</span><span class="at"> https://accounts.google.com/o/oauth2/v2/auth</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">token-uri</span><span class="kw">:</span><span class="at"> https://oauth2.googleapis.com/token</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">user-info-uri</span><span class="kw">:</span><span class="at"> https://www.googleapis.com/oauth2/v3/userinfo</span></span></code></pre></div>
        <h3 id="key-properties">Key Properties</h3>
        <table>
        <colgroup>
        <col style="width: 52%" />
        <col style="width: 47%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th>Property</th>
        <th>Purpose</th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><code>client-id</code></td>
        <td>Google OAuth2 application ID (from Google Cloud
        Console)</td>
        </tr>
        <tr class="even">
        <td><code>client-secret</code></td>
        <td>Google OAuth2 secret (from Google Cloud Console)</td>
        </tr>
        <tr class="odd">
        <td><code>redirect-uri</code></td>
        <td>Where Google redirects after login (must be HTTPS in
        prod)</td>
        </tr>
        <tr class="even">
        <td><code>scope</code></td>
        <td>What user data to request (profile, email, etc.)</td>
        </tr>
        <tr class="odd">
        <td><code>authorization-uri</code></td>
        <td>Google‚Äôs login page URL</td>
        </tr>
        <tr class="even">
        <td><code>token-uri</code></td>
        <td>Endpoint to exchange code for access token</td>
        </tr>
        <tr class="odd">
        <td><code>user-info-uri</code></td>
        <td>Endpoint to fetch logged-in user‚Äôs profile</td>
        </tr>
        </tbody>
        </table>
        <h3 id="secret-injection">Secret Injection</h3>
        <p>Secrets are <strong>never</strong> hardcoded. Instead:</p>
        <h4 id="development-local">Development (Local)</h4>
        <div class="sourceCode" id="cb2"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In shell or .env file</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID</span><span class="op">=</span><span class="st">&quot;12345-abc.apps.googleusercontent.com&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET</span><span class="op">=</span><span class="st">&quot;GOCSPX-xyz...&quot;</span></span></code></pre></div>
        <h4 id="cicd-github-actions">CI/CD (GitHub Actions)</h4>
        <div class="sourceCode" id="cb3"><pre
        class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .github/workflows/deploy.yml</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID</span><span class="kw">:</span><span class="at"> ${{ secrets.GOOGLE_CLIENT_ID }}</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET</span><span class="kw">:</span><span class="at"> ${{ secrets.GOOGLE_CLIENT_SECRET }}</span></span></code></pre></div>
        <h4 id="production-fly.io">Production (Fly.io)</h4>
        <div class="sourceCode" id="cb4"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set secrets in Fly</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fly</span> secrets set <span class="dt">\</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID=<span class="st">&quot;12345...&quot;</span> <span class="dt">\</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET=<span class="st">&quot;GOCSPX-...&quot;</span></span></code></pre></div>
        <h3 id="redirect-uri-requirements">Redirect URI
        Requirements</h3>
        <p>The <code>redirect-uri</code> must match exactly what‚Äôs
        registered in Google Cloud Console:</p>
        <p><strong>Format:</strong>
        <code>{baseUrl}/login/oauth2/code/google</code></p>
        <p><strong>Examples:</strong></p>
        <ul>
        <li><strong>Local:</strong>
        <code>http://localhost:8081/login/oauth2/code/google</code></li>
        <li><strong>Staging:</strong>
        <code>https://staging.inventoryservice.com/login/oauth2/code/google</code></li>
        <li><strong>Production:</strong>
        <code>https://inventoryservice.fly.dev/login/oauth2/code/google</code></li>
        </ul>
        <p><strong>Important:</strong> Google only allows HTTPS in
        production (HTTP localhost is exception).</p>
        <h3 id="setting-up-google-oauth2">Setting Up Google OAuth2</h3>
        <ol type="1">
        <li>Go to <a href="https://console.cloud.google.com/">Google
        Cloud Console</a></li>
        <li>Create a new project</li>
        <li>Enable ‚ÄúGoogle+ API‚Äù</li>
        <li>Create OAuth2 credentials:
        <ul>
        <li>Application type: ‚ÄúWeb application‚Äù</li>
        <li>Authorized redirect URIs: Add all your application URLs</li>
        </ul></li>
        <li>Copy Client ID and Client Secret</li>
        <li>Store as environment variables (never in code)</li>
        </ol>
        <hr />
        <h2 id="database-secrets">Database Secrets</h2>
        <h3 id="oracle-autonomous-database-connection">Oracle Autonomous
        Database Connection</h3>
        <p><strong>Configuration:</strong> See <a
        href="./database-and-oracle-wallet.html">Database and Oracle
        Wallet</a></p>
        <p><strong>Secrets required:</strong></p>
        <div class="sourceCode" id="cb5"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DB_URL</span><span class="op">=</span><span class="st">&quot;jdbc:oracle:thin:@adb-xyz.database.oraclecloud.com:1521/inventorydb_medium&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DB_USER</span><span class="op">=</span><span class="st">&quot;admin&quot;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DB_PASS</span><span class="op">=</span><span class="st">&quot;YourSecurePassword123!&quot;</span></span></code></pre></div>
        <p><strong>Secret storage:</strong></p>
        <h4 id="development">Development</h4>
        <div class="sourceCode" id="cb6"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .env file (never committed)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="va">DB_URL</span><span class="op">=</span><span class="st">&quot;...&quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="va">DB_USER</span><span class="op">=</span><span class="st">&quot;...&quot;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="va">DB_PASS</span><span class="op">=</span><span class="st">&quot;...&quot;</span></span></code></pre></div>
        <h4 id="cicd">CI/CD</h4>
        <div class="sourceCode" id="cb7"><pre
        class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">DB_URL</span><span class="kw">:</span><span class="at"> ${{ secrets.DB_URL }}</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">DB_USER</span><span class="kw">:</span><span class="at"> ${{ secrets.DB_USER }}</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">DB_PASS</span><span class="kw">:</span><span class="at"> ${{ secrets.DB_PASS }}</span></span></code></pre></div>
        <h4 id="production-fly.io-1">Production (Fly.io)</h4>
        <div class="sourceCode" id="cb8"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fly</span> secrets set <span class="dt">\</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  DB_URL=<span class="st">&quot;jdbc:oracle:...&quot;</span> <span class="dt">\</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  DB_USER=<span class="st">&quot;admin&quot;</span> <span class="dt">\</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  DB_PASS=<span class="st">&quot;...&quot;</span></span></code></pre></div>
        <h3 id="oracle-wallet-secrets">Oracle Wallet Secrets</h3>
        <p>If using Oracle Wallet (encrypted credential storage):</p>
        <ul>
        <li>Wallet files are in <code>oracle_wallet/</code></li>
        <li>Base64-encoded in Git for safety
        (<code>oracle_wallet_b64.txt</code>)</li>
        <li>At runtime, decoded and mounted at
        <code>/opt/oracle_wallet</code></li>
        <li>Requires <code>TNS_ADMIN</code> environment variable</li>
        </ul>
        <div class="sourceCode" id="cb9"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">TNS_ADMIN</span><span class="op">=</span><span class="st">&quot;/opt/oracle_wallet&quot;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Spring will use wallet for encrypted connection details</span></span></code></pre></div>
        <hr />
        <h2 id="frontend-url-configuration">Frontend URL
        Configuration</h2>
        <h3 id="what-is-the-frontend-url">What is the Frontend URL?</h3>
        <p>Used for: - OAuth2 redirect after login - CORS allowed
        origins - Post-authentication redirect destination</p>
        <h3 id="configuration-1">Configuration</h3>
        <div class="sourceCode" id="cb10"><pre
        class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">frontend</span><span class="kw">:</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">base-url</span><span class="kw">:</span><span class="at"> ${APP_FRONTEND_BASE_URL:https://localhost:5173}</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">landing-path</span><span class="kw">:</span><span class="at"> /auth</span></span></code></pre></div>
        <p><strong>Environment variable:</strong>
        <code>APP_FRONTEND_BASE_URL</code></p>
        <h3 id="secret-injection-1">Secret Injection</h3>
        <p>Not a ‚Äúsecret‚Äù (public URL), but environment-dependent:</p>
        <h4 id="development-1">Development</h4>
        <div class="sourceCode" id="cb11"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">APP_FRONTEND_BASE_URL</span><span class="op">=</span><span class="st">&quot;http://localhost:5173&quot;</span></span></code></pre></div>
        <h4 id="production">Production</h4>
        <div class="sourceCode" id="cb12"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fly.toml</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[env]</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">APP_FRONTEND_BASE_URL</span> = <span class="st">&quot;https://inventoryservice-ui.fly.dev&quot;</span></span></code></pre></div>
        <hr />
        <h2 id="secret-management-best-practices">Secret Management Best
        Practices</h2>
        <h3 id="do">‚úÖ DO</h3>
        <ul>
        <li>Store secrets in <strong>environment variables</strong></li>
        <li>Use <strong>secret management systems</strong> (Fly.io
        Secrets, GitHub Secrets, HashiCorp Vault)</li>
        <li><strong>Never commit</strong> secrets to Git (even in .env
        files)</li>
        <li><strong>Rotate secrets</strong> regularly (especially
        database passwords)</li>
        <li><strong>Log secret usage</strong> for audit trails</li>
        <li>Use <strong>HTTPS only</strong> for sensitive
        communications</li>
        <li>Implement <strong>least privilege</strong> (each app gets
        only needed secrets)</li>
        </ul>
        <h3 id="dont">‚ùå DON‚ÄôT</h3>
        <ul>
        <li>Hardcode secrets in Java code</li>
        <li>Commit secrets in configuration files</li>
        <li>Share secrets via email or chat</li>
        <li>Use the same secret across multiple environments</li>
        <li>Leave secrets in production logs</li>
        <li>Use weak passwords (min 16 characters, mix of types)</li>
        </ul>
        <hr />
        <h2 id="secrets-in-different-environments">Secrets in Different
        Environments</h2>
        <h3 id="local-development">Local Development</h3>
        <div class="sourceCode" id="cb13"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .env (don&#39;t commit)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="va">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID</span><span class="op">=</span><span class="st">&quot;dev-client-id&quot;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="va">SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET</span><span class="op">=</span><span class="st">&quot;dev-secret&quot;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="va">DB_URL</span><span class="op">=</span><span class="st">&quot;jdbc:oracle:thin:@localhost:1521/xe&quot;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="va">DB_USER</span><span class="op">=</span><span class="st">&quot;local_user&quot;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="va">DB_PASS</span><span class="op">=</span><span class="st">&quot;local_password&quot;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="va">APP_FRONTEND_BASE_URL</span><span class="op">=</span><span class="st">&quot;http://localhost:5173&quot;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in shell</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-a</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .env</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> +a</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Run application</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> spring-boot:run</span></code></pre></div>
        <h3 id="testing-cicd">Testing (CI/CD)</h3>
        <div class="sourceCode" id="cb14"><pre
        class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .github/workflows/test.yml</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">SPRING_PROFILES_ACTIVE</span><span class="kw">:</span><span class="at"> test</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">  # No secrets needed for H2 test DB</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">test</span><span class="kw">:</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v3</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Run Tests</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">run</span><span class="kw">:</span><span class="at"> mvn clean test</span></span></code></pre></div>
        <h3 id="staging">Staging</h3>
        <div class="sourceCode" id="cb15"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fly staging secrets</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fly</span> <span class="at">--app</span> inventoryservice-staging secrets set <span class="dt">\</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID=<span class="st">&quot;staging-client-id&quot;</span> <span class="dt">\</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET=<span class="st">&quot;staging-secret&quot;</span> <span class="dt">\</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  DB_URL=<span class="st">&quot;jdbc:oracle:thin:@staging-db:1521/xe&quot;</span> <span class="dt">\</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  DB_USER=<span class="st">&quot;staging_admin&quot;</span> <span class="dt">\</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  DB_PASS=<span class="st">&quot;staging_password&quot;</span> <span class="dt">\</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  APP_FRONTEND_BASE_URL=<span class="st">&quot;https://staging.inventoryui.dev&quot;</span></span></code></pre></div>
        <h3 id="production-1">Production</h3>
        <div class="sourceCode" id="cb16"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fly production secrets (most secure)</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fly</span> <span class="at">--app</span> inventoryservice secrets set <span class="dt">\</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID=<span class="st">&quot;prod-client-id&quot;</span> <span class="dt">\</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET=<span class="st">&quot;prod-secret&quot;</span> <span class="dt">\</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  DB_URL=<span class="st">&quot;jdbc:oracle:thin:@prod-db:1521/xe&quot;</span> <span class="dt">\</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  DB_USER=<span class="st">&quot;prod_admin&quot;</span> <span class="dt">\</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  DB_PASS=<span class="st">&quot;prod_password&quot;</span> <span class="dt">\</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  APP_FRONTEND_BASE_URL=<span class="st">&quot;https://inventoryui.fly.dev&quot;</span></span></code></pre></div>
        <hr />
        <h2 id="secret-rotation">Secret Rotation</h2>
        <h3 id="oauth2-secret-rotation">OAuth2 Secret Rotation</h3>
        <ol type="1">
        <li>Go to Google Cloud Console</li>
        <li>Create new credential set (keep old one temporarily)</li>
        <li>Update
        <code>SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET</code>
        env var</li>
        <li>Test in staging first</li>
        <li>Deploy to production</li>
        <li>Delete old credential from Google Console</li>
        </ol>
        <h3 id="database-password-rotation">Database Password
        Rotation</h3>
        <ol type="1">
        <li>Set new password in Oracle</li>
        <li>Update <code>DB_PASS</code> environment variable</li>
        <li>Restart application (picks up new password)</li>
        <li>Verify connectivity</li>
        <li>Delete old password from Oracle</li>
        </ol>
        <hr />
        <h2 id="troubleshooting-secrets">Troubleshooting Secrets</h2>
        <h3 id="q-unauthorized-oauth2-client">Q: ‚ÄúUnauthorized OAuth2
        client‚Äù</h3>
        <p><strong>A:</strong> Check OAuth2 secrets:</p>
        <div class="sourceCode" id="cb17"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify env vars are set</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check values match Google Cloud Console</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check redirect URI matches exactly (HTTP vs HTTPS, port numbers)</span></span></code></pre></div>
        <h3 id="q-cannot-create-jdbc-connection">Q: ‚ÄúCannot create JDBC
        connection‚Äù</h3>
        <p><strong>A:</strong> Check database secrets:</p>
        <div class="sourceCode" id="cb18"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify DB credentials</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$DB_URL</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$DB_USER</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$DB_PASS</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test connection manually</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="ex">sqlplus</span> <span class="va">$DB_USER</span>/<span class="va">$DB_PASS</span>@<span class="va">$DB_URL</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Check network access (firewall, security groups)</span></span></code></pre></div>
        <h3 id="q-no-qualifying-bean-of-type-appproperties">Q: ‚ÄúNo
        qualifying bean of type ‚ÄòAppProperties‚Äô‚Äù</h3>
        <p><strong>A:</strong> Check property names:</p>
        <ul>
        <li>YAML uses hyphens: <code>frontend-base-url</code></li>
        <li>Environment variables use underscores:
        <code>APP_FRONTEND_BASE_URL</code></li>
        <li>Spring converts automatically</li>
        </ul>
        <hr />
        <h2 id="related-documentation">Related Documentation</h2>
        <ul>
        <li><a href="./profiles-and-environments.html">Profiles and
        Environments</a></li>
        <li><a href="./database-and-oracle-wallet.html">Database and
        Oracle Wallet</a></li>
        <li><a href="../security/">Security Overview</a> ‚Äî For OAuth2
        flow details</li>
        <li><a href="../deployment/">Deployment Docs</a> ‚Äî For
        production secret management</li>
        </ul>
        <hr />
        <p><a href="./index.html">‚¨ÖÔ∏è Back to Config Overview</a></p>
      </article>
    </section>
  </main>

  <footer class="footer">
    Smart Supply Pro ¬∑ Generated by Docs Pipeline
  </footer>

  <!-- Mermaid for diagrams in ```mermaid``` blocks -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: true });</script>
</body>
</html>
